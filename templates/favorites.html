{% extends "base.html" %}

{% block title %}My Favorites – Used Car Marketplace{% endblock %}

{% block content %}
<section class="py-5 bg-light text-center">
  <div class="container">
    <h2 class="mb-4">Your Favorite Cars</h2>
    {% if favorite_cars %}
      <div class="row g-4">
        {% for car in favorite_cars %}
          <div class="col-md-4">
            <div class="card h-100 shadow-sm">
              <img src="{{ url_for('static', filename='car_images/' ~ car.image) }}"
                   class="card-img-top" alt="{{ car.year }} {{ car.brand }} {{ car.model }}">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">{{ car.year }} {{ car.brand }} {{ car.model }}</h5>
                <p class="card-text text-muted">{{ car.mileage }} miles</p>
                <p class="card-text"><strong>${{ "{:,.0f}".format(car.price) }}</strong></p>
                <div class="mt-auto">
                  <a href="{{ url_for('car_detail', car_id=car.car_id) }}"
                     class="btn btn-outline-primary btn-sm">View Details</a>
                  <a href="{{ url_for('unfavorite_car', car_id=car.car_id) }}"
                     class="btn btn-outline-danger btn-sm ms-2">🗑️ Remove</a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-muted">You haven’t liked any cars yet. Browse and add your favorites!</p>
    {% endif %}
  </div>
</section>
{% endblock %}
